<div
  class="modal fade"
  id="cartModal"
  tabindex="-1"
  aria-labelledby="cartModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-xl modal-dialog-centered">
    <div
      class="modal-content border-0"
      style="
        border-radius: 1rem;
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(8px);
        height: 80vh;
        display: flex;
        flex-direction: column;
      "
    >
      <!-- HEADER -->
      <div class="modal-header border-0">
        <h4 class="fw-bold text-primary m-0">Keranjang Kamu</h4>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
        ></button>
      </div>

      <!-- BODY -->
      <div
        class="modal-body flex-grow-1 overflow-auto"
        style="max-height: calc(80vh - 220px)"
      >
        <table class="table align-middle mb-0">
          <thead class="text-secondary small">
            <tr>
              <th>Item</th>
              <th class="text-center">Qty</th>
              <th class="text-end">Harga</th>
              <th class="text-end">Total</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <div class="d-flex align-items-center">
                  <img
                    src="{{ url_for('static', filename='img/coffe1.jpg') }}"
                    width="70"
                    height="70"
                    class="rounded me-3"
                    style="object-fit: cover"
                  />
                  <div>
                    <h6 class="fw-semibold mb-0 text-dark">Iced Americano</h6>
                    <small class="text-muted">Cold Brew</small>
                  </div>
                </div>
              </td>
              <td class="text-center">
                <div
                  class="d-flex justify-content-center align-items-center gap-2"
                >
                  <button
                    class="btn btn-sm btn-outline-secondary rounded-circle"
                  >
                    −
                  </button>
                  <span>1</span>
                  <button
                    class="btn btn-sm btn-outline-secondary rounded-circle"
                  >
                    +
                  </button>
                </div>
              </td>
              <td class="text-end">Rp 22.000</td>
              <td class="text-end fw-semibold">Rp 22.000</td>
              <td class="text-end">
                <button class="btn btn-sm text-danger">
                  <i class="fa-solid fa-trash"></i>
                </button>
              </td>
            </tr>
            <tr>
              <td>
                <div class="d-flex align-items-center">
                  <img
                    src="{{ url_for('static', filename='img/coffe1.jpg') }}"
                    width="70"
                    height="70"
                    class="rounded me-3"
                    style="object-fit: cover"
                  />
                  <div>
                    <h6 class="fw-semibold mb-0 text-dark">Iced Americano</h6>
                    <small class="text-muted">Cold Brew</small>
                  </div>
                </div>
              </td>
              <td class="text-center">
                <div
                  class="d-flex justify-content-center align-items-center gap-2"
                >
                  <button
                    class="btn btn-sm btn-outline-secondary rounded-circle"
                  >
                    −
                  </button>
                  <span>1</span>
                  <button
                    class="btn btn-sm btn-outline-secondary rounded-circle"
                  >
                    +
                  </button>
                </div>
              </td>
              <td class="text-end">Rp 22.000</td>
              <td class="text-end fw-semibold">Rp 22.000</td>
              <td class="text-end">
                <button class="btn btn-sm text-danger">
                  <i class="fa-solid fa-trash"></i>
                </button>
              </td>
            </tr>
            <tr>
              <td>
                <div class="d-flex align-items-center">
                  <img
                    src="{{ url_for('static', filename='img/coffe1.jpg') }}"
                    width="70"
                    height="70"
                    class="rounded me-3"
                    style="object-fit: cover"
                  />
                  <div>
                    <h6 class="fw-semibold mb-0 text-dark">Iced Americano</h6>
                    <small class="text-muted">Cold Brew</small>
                  </div>
                </div>
              </td>
              <td class="text-center">
                <div
                  class="d-flex justify-content-center align-items-center gap-2"
                >
                  <button
                    class="btn btn-sm btn-outline-secondary rounded-circle"
                  >
                    −
                  </button>
                  <span>1</span>
                  <button
                    class="btn btn-sm btn-outline-secondary rounded-circle"
                  >
                    +
                  </button>
                </div>
              </td>
              <td class="text-end">Rp 22.000</td>
              <td class="text-end fw-semibold">Rp 22.000</td>
              <td class="text-end">
                <button class="btn btn-sm text-danger">
                  <i class="fa-solid fa-trash"></i>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- FOOTER -->
      <div
        class="modal-footer flex-column align-items-stretch border-top pt-3"
        style="
          border-top: 2px solid rgba(0, 0, 0, 0.1);
          background: rgba(255, 255, 255, 0.95);
          backdrop-filter: blur(8px);
          position: sticky;
          bottom: 0;
          z-index: 5;
        "
      >
        <!-- PAYMENT OPTION -->
        <div class="mb-3 w-100">
          <h6 class="fw-semibold text-primary mb-2">
            <i class="fa-solid fa-credit-card me-2"></i>Metode Pembayaran
          </h6>
          <div class="d-flex flex-wrap gap-3">
            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="paymentMethod"
                id="paymentCash"
                value="cash"
                checked
              />
              <label class="form-check-label" for="paymentCash"> Tunai </label>
            </div>
            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="paymentMethod"
                id="paymentBank"
                value="bank"
              />
              <label class="form-check-label" for="paymentBank">
                Transfer Bank
              </label>
            </div>
            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="paymentMethod"
                id="paymentEwallet"
                value="ewallet"
              />
              <label class="form-check-label" for="paymentEwallet">
                E-Wallet (OVO, GoPay, DANA)
              </label>
            </div>
          </div>

          <!-- CASH INPUT (muncul hanya jika pilih tunai) -->
          <div
            id="cashInput"
            class="mt-3"
            style="display: none; animation: fadeIn 0.3s ease"
          >
            <label for="cashAmount" class="form-label fw-semibold small"
              >Uang yang dibayarkan:</label
            >
            <input
              type="number"
              id="cashAmount"
              class="form-control"
              placeholder="Masukkan nominal tunai"
              min="0"
              style="max-width: 250px"
            />
          </div>
        </div>

        <!-- TOTAL + CHECKOUT -->
        <div
          class="d-flex justify-content-between align-items-center border-top pt-3"
          style="border-top: 2px solid rgba(0, 0, 0, 0.05)"
        >
          <div class="fs-5 fw-bold text-dark m-0">
            Total:
            <span class="text-primary ms-2">Rp 72.000</span>
          </div>
          <button
            type="button"
            class="btn px-4 py-2 fw-semibold"
            style="
              background-color: var(--bs-primary);
              color: #fff;
              border-radius: 50px;
            "
          >
            Checkout
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<script src="{{ url_for('static', filename='js/cart.js') }}"></script>

<!-- Simple fade-in animation -->
<style>
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(5px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>
